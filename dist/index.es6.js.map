{"version":3,"file":"index.es6.js","sources":["../src/list-of.js"],"sourcesContent":["/**\n * ListOf - A JavaScript implementation of the C# List<T> object\n *\n * Copyright Â© 2016 Joel A. Villarreal Bertoldi. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nconst _asListOf = (type, values) => new ListOf(type).add(values);\n\nexport default class ListOf {\n  constructor(type) {\n    this.type = type;\n\n    this.__array__ = [];\n    this.__typeIsPrimitive__ = [Number, String, Boolean].indexOf(type) > -1;\n    this.__typeIsObject__ = !this.__typeIsPrimitive__\n      && type.toString().toLowerCase().indexOf('function') === 0;\n  }\n\n  add(items) {\n    const _add = (item) => {\n      if ((this.__typeIsPrimitive__ && (typeof item).toLowerCase() === this.type.name.toLowerCase())\n        || (this.__typeIsObject__ && item instanceof this.type)) {\n        this.__array__.push(item);\n      } else {\n        throw new Error(`ListOf#add: Item must be of type ${this.type.name}`);\n      }\n    }\n\n    if (Array.isArray(items)) {\n      for (let i = 0; i < items.length; i += 1) {\n        _add(items[i]);\n      }\n      return this;\n    }\n\n    _add(items);\n    return this;\n  }\n\n  all(what) {\n    if (typeof what === 'object' && !Array.isArray(what)) {\n      return this.__array__.every\n        ? this.__array__.every(\n            item => Object.keys(what).map(key => item[key] === what[key]).reduce((a, b) => a && b)\n          )\n        : this.find(what).count() === this.__array__.length;\n    }\n\n    if (typeof what === 'function') {\n      return this.__array__.every\n        ? this.__array__.every(what)\n        : this.__array__.filter(what).length === this.__array__.length;\n    }\n\n    throw new Error(`ListOf#all: parameter 'what' must be an Object or a function predicate`)\n  }\n\n  any(what) {\n    if (typeof what === 'object' && !Array.isArray(what)) {\n      return this.__array__.some\n        ? this.__array__.some(\n            item => Object.keys(what).map(key => item[key] === what[key]).reduce((a, b) => a || b)\n          )\n        : (this.find(what).count() || Infinity) <= this.__array__.length;\n    }\n\n    if (typeof what === 'function') {\n      return this.__array__.some ? this.__array__.some(what) : (this.__array__.filter(what).length || Infinity) <= this.__array__.length;\n    }\n\n    throw new Error(`ListOf#all: parameter 'what' must be an Object or a function predicate`)\n  }\n\n  average(what) {\n    return this.sum(what) / this.__array__.length;\n  }\n\n  sum(what) {\n    let sum = 0;\n    if (this.__typeIsObject__ && typeof what === 'string') {\n      for (let i = 0; i < this.__array__.length; i += 1) {\n        const value = this.__array__[i][what];\n        sum += value instanceof Function ? value.bind(this.__array__[i])() : value;\n      }\n    } else if (this.__typeIsPrimitive__ && this.type === Number) {\n      for (let i = 0; i < this.__array__.length; i += 1) {\n        sum += this.__array__[i];\n      }\n    }\n    return sum;\n  }\n\n  clear() {\n    this.__array__ = [];\n    return this;\n  }\n\n  contains(item) {\n    return this.any(item);\n  }\n\n  count(what) {\n    return !what ? this.__array__.length : this.find(what).count();\n  }\n\n  elementAt(index) {\n    return this.__array__[index];\n  }\n\n  except(what) {\n    if (what instanceof Function) {\n      return _asListOf(this.type, this.__array__.filter(what));\n    }\n\n    if (this.__typeIsObject__ && !Array.isArray(what)) {\n      return _asListOf(this.type, this.__array__.filter((item) => {\n        let isValid = 1;\n        let atLeastOneValid = 0;\n        Object.keys(what).forEach((key) => {\n          if (item[key] && Array.isArray(what[key])) {\n            for (let i = 0; i < what[key].length; i += 1) {\n              if (item[key] !== what[key][i]) {\n                atLeastOneValid = 1;\n                break;\n              }\n            }\n            isValid &= atLeastOneValid;\n          } else if (item[key]) {\n            isValid &= item[key] === what[key];\n          }\n        });\n      }));\n    }\n\n    return _asListOf(this.type, this.__array__.filter(item => item !== what));\n  }\n\n  exists(what) {\n    return this.any(what);\n  }\n\n  findFirst(what) {\n    const result = this.find(what);\n    return result.length > 0 ? result[0] : null;\n  }\n\n  findLast(what) {\n    const result = this.find(what)\n  }\n\n  first(what) {\n    return !what ? this.__array__[0] : this.findFirst(what);\n  }\n\n  last(what) {\n    return !what ? this.__array__[this.__array__.length - 1] : this.findLast(what);\n  }\n\n  forEach(callback) {\n    for (let i = 0; i < this.__array__.length; i += 1) {\n      callback.call(this, this.__array__[i], i);\n    }\n  }\n\n  indexOf(what) {\n    if (this.__typeIsObject__ && !Array.isArray(what)) {\n      for (let i = 0; i < this.__array__.length; i += 1) {\n        const item = this.__array__[i];\n        let isValid = 1;\n        let atLeastOneValid = 0;\n        if (item === null && what === null) {\n          return i;\n        } else if (what !== null) {\n          continue;\n        }\n        Object.keys(what).forEach((key) => {\n          if (item[key]) {\n            for (var j = 0; j < what[key].length; j += 1) {\n              if (item[key] === what[key][j]) {\n                atLeastOneValid = 1;\n                break;\n              }\n            }\n            isValid &= atLeastOneValid;\n          } else {\n            isValid &= item[key] === what[key];\n          }\n        });\n        if (isValid) {\n          return i;\n        }\n      }\n    }\n    return this.__array__.indexOf(what);\n  }\n\n  indexesOf(what) {\n    const indexes = [];\n    if (this.__typeIsObject__ && !Array.isArray(what)) {\n      for (let i = 0; i < this.__array__.length; i += 1) {\n        const item = this.__array__[i];\n        let isValid = 1;\n        let atLeastOneValid = 0;\n        if (item === null && what === null) {\n          indexes.push(i);\n          continue;\n        } else if (what !== null) {\n          continue;\n        }\n        Object.keys(what).forEach((key) => {\n          if (item[key]) {\n            for (var j = 0; j < what[key].length; j += 1) {\n              if (item[key] === what[key][j]) {\n                atLeastOneValid = 1;\n                break;\n              }\n            }\n            isValid &= atLeastOneValid;\n          } else {\n            isValid &= item[key] === what[key];\n          }\n        });\n        if (isValid) {\n          indexes.push(i);\n        }\n      }\n    } else {\n      for (let i = 0; i < this.__array__.length; i += 1) {\n        if (this.__array__[i] === what) {\n          indexes.push(i);\n        }\n      }\n    }\n    return indexes;\n  }\n\n  lastIndexOf(what) {\n    return Math.max.apply(null, this.indexesOf(what));\n  }\n\n  insert(where, what) {\n    if (where > this.__array__.length) {\n      throw new Error(`ListOf#insert: index out of range, 'where' must be <= ${this.__array__.length}`);\n    }\n\n    if (what instanceof this.type) {\n      this.__array__.splice(0, where).concat([what]).concat(this.__array__.splice(where - 1));\n      return this;\n    }\n\n    if (Array.isArray(what)) {\n      this.__array__.splice(0, where).concat(what).concat(this.__array__.splice(where - 1));\n      return this;\n    }\n\n    throw new Error(`ListOf#insert: Item must be of type ${this.type.name}`);\n  }\n\n  remove(item) {\n    if (!this.__typeIsObject__) {\n      this.__array__ = this.__array__.filter(arrayItem => arrayItem !== item);\n    } else {\n      const index = this.__array__.indexOf(item);\n      this.__array__ = this.__array__.slice(0, index).concat(this.__array__.slice(index + 1));\n    }\n    return this;\n  }\n\n  removeAt(position) {\n    return this.removeRange(position, 1);\n  }\n\n  removeRange(from, count) {\n    const newArray = [];\n    for (let x = from; x < this.__array__.length && x < from + count; x += 1) {\n      newArray.push(this.__array__[x]);\n    }\n    this.__array__ = newArray;\n    return this;\n  }\n\n  find(what) {\n    if (what instanceof Function) {\n      return _asListOf(this.type, this.__array__.filter(what));\n    }\n\n    if (this.__typeIsObject__ && !Array.isArray(what)) {\n      return _asListOf(this.type, this.__array__.filter((arrayItem) => {\n        let isValid = 1;\n        let atLeastOneValid = 0;\n        if (arrayItem === null) {\n          return false;\n        }\n        Object.keys(what).forEach((key) => {\n          if (arrayItem[key] && Array.isArray(arrayItem[key])) {\n            for (var j = 0; j < what[key].length; j += 1) {\n              if (arrayItem[key] === what[key][j]) {\n                atLeastOneValid = 1;\n                break;\n              }\n            }\n            isValid &= atLeastOneValid;\n          } else if (arrayItem[key]) {\n            isValid &= arrayItem[key] === what[key];\n          }\n        });\n        return isValid;\n      }));\n    }\n\n    return _asListOf(this.type, this.__array__.filter(arrayItem => arrayItem === what));\n  }\n\n  toString() {\n    return `ListOf<${this.type.name}>[${this.count()}]`;\n  }\n\n  valueOf() {\n    return this.count();\n  }\n\n  toArray() {\n    return this.__array__;\n  }\n\n  take(amount) {\n    return _asListOf(this.__array__.slice(0, amount));\n  }\n\n  skip(amount) {\n    return _asListOf(this.__array__.slice(amount));\n  }\n\n  distinct(what) {\n    const unique = [], auxiliary = [];\n    if (this.__typeIsObject__ && typeof what === 'string') {\n      for (let i = 0; i < this.__array__.length; i += 1) {\n        if (this.__array__[i] === null) continue;\n        if (auxiliary.indexOf(this.__array__[i][what]) > -1) {\n          continue;\n        } else {\n          auxiliary.push(this.__array__[i][what]);\n          unique.push(this.__array__[i]);\n        }\n      }\n    } else {\n      for (let i = 0; i < this.__array__.length; i += 1) {\n        if (unique.indexOf(this.__array__[i]) > -1) {\n          continue;\n        } else {\n          unique.push(this.__array__[i]);\n        }\n      }\n    }\n    return _asListOf(unique);\n  }\n\n  max(what) {\n    if (this.__typeIsObject__ && typeof what === 'string') {\n      return Math.max.apply(null, this.__array__.map(arrayItem => arrayItem[what]));\n    }\n    return Math.max.apply(null, this.__array__);\n  }\n\n  min(what) {\n    if (this.__typeIsObject__ && typeof what === 'string') {\n      return Math.min.apply(null, this.__array__.map(arrayItem => arrayItem[what]));\n    }\n    return Math.min.apply(null, this.__array__);\n  }\n\n  orderBy(what) {\n    if (this.__typeIsObject__ && typeof what === 'string') {\n      return _asListOf(this.__array__.sort((x, y) => (x !== null && y !== null) ? (x[what] > y[what]) : false));\n    }\n  }\n\n  orderByDescendent(what) {\n    return _asListOf(this.orderBy(what).toArray().reverse());\n  }\n\n  reverse() {\n    return _asListOf(this.__array__.reverse());\n  }\n}\n"],"names":["_asListOf","type","values","ListOf","add","__array__","__typeIsPrimitive__","Number","String","Boolean","indexOf","__typeIsObject__","toString","toLowerCase","items","_add","item","name","push","Error","Array","isArray","i","length","what","every","map","key","reduce","a","b","find","count","filter","some","Infinity","sum","value","Function","bind","any","index","isValid","atLeastOneValid","forEach","result","findFirst","findLast","callback","call","j","indexes","Math","max","apply","indexesOf","where","splice","concat","arrayItem","slice","position","removeRange","from","newArray","x","amount","unique","auxiliary","min","sort","y","orderBy","toArray","reverse"],"mappings":"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"}